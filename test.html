<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тест на уровень депрессии</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

<!-- Подключение шрифта Comfortaa -->
<link href="https://fonts.googleapis.com/css2?family=Comfortaa&display=swap" rel="stylesheet" />

<!-- Внешний CSS -->
<link rel="stylesheet" href="style.css" />
    <style>
        .question-container {
            margin-bottom: 20px;
            display: none;
        }
.question-container.active {
    display: flex; /* делаем флекс-контейнер */
    justify-content: center; /* горизонтальное выравнивание */
    align-items: center; /* вертикальное выравнивание */
    flex-direction: column; /* чтобы внутри было вертикальное расположение элементов, если нужно */
}
        .question {
            font-size: 18px;
            margin-bottom: 20px;
            font-weight: bold;
            
        }
.option {
    margin: 15px 0;
    width: 345px;
    height: 90px;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 45px;
    cursor: pointer;
    display: flex; /* для центрирования */
    align-items: center; /* вертикальное центрирование */
    justify-content: center; /* горизонтальное центрирование */
    font-size: 20px; /* размер шрифта */
    padding: 0 20px; /* внутренние отступы для текста */
    box-sizing: border-box; /* чтобы padding учитывался в ширине/высоте */
    text-align: center; /* выравнивание текста по центру */
    overflow-wrap: break-word; /* перенос длинных слов */
        .option:hover {
         background-color : rgba(144,128,208,1);
        }
        .option input {
            position: absolute;
            left: 10px;
            top: 15px;
            cursor: pointer;
        }
        button {
            padding: 12px 20px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 45px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 20px;
            display: block;
            width: 100%;
                width: 210px;
    height: 60px;
    background: rgba(255, 255, 255, 0.5);
        }
        button:hover {
            background: #45a049;
        }
        #result-container {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .result-score {
            font-size: 24px;
            font-weight: bold;
            margin: 20px 0;
        }
        .diagnosis {
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            font-weight: bold;
        }
        .mild {
            background-color: #FFF3CD;
            color: #856404;
        }
        .moderate {
            background-color: #FFE0A3;
            color: #D35400;
        }
        .severe {
            background-color: #F8D7DA;
            color: #721C24;
        }
        .progress-bar {
            height: 5px;
            background: #e0e0e0;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        .progress {
            height: 100%;
            background: #4CAF50;
            border-radius: 5px;
            width: 0%;
            transition: width 0.3s;
        }
        .option-text {
            display: inline-block;
            vertical-align: middle;
            width: calc(100% - 30px);
        }
        /* Нижняя панель с иконками без фона */
.bottom-nav {
  display:flex; 
  justify-content:space-around; 
  align-items:center; 
  width:100%; 
  position:fixed; 
  bottom:0; 
  left:0; 
  right:0; 
  background:transparent; /* прозрачный фон */
  padding:10px 0;
}

/* Кнопки-иконки */
.icon-btn {
   background:none; 
   border:none; 
   cursor:pointer; 
   padding:10px; 
   font-size:24px; 
   color:#333; 
   transition:.2s all ease-in-out;
}

.icon-btn:hover,
.icon-btn :active { /* можно оставить так для эффекта наведения и нажатия одновременно */   
   background-color : rgba(144,128,208,1);
}
    </style>
</head>
<body>
<div class="progress-bar">
    <div class="progress" id="progress"></div>
</div>

<!-- Нижняя панель с иконками без фона -->
<div class="bottom-nav">
 <button class="icon-btn"><i class="fas fa-cog"></i></button>
 <button class="icon-btn"><i class="fas fa-search"></i></button>
 <button class="icon-btn"><i class="fas fa-user"></i></button>
</div>

<!-- Контейнеры с вопросами -->
<div id="question1" class="question-container active">
   <div class="question">1. Я не чувствую себя расстроенным, печальным.</div>
   <div class="option" onclick="selectAnswer(1,0)">0 - Я не чувствую себя расстроенным, печальным.</div>
   <div class="option" onclick="selectAnswer(1,1)">1 - Я расстроен.</div>
   <div class="option" onclick="selectAnswer(1,2)">2 - Я все время расстроен и не могу от этого отключиться.</div>
   <div class="option" onclick="selectAnswer(1,3)">3 - Я настолько расстроен и несчастлив, что не могу это выдержать.</div>
</div>

<div id="question2" class="question-container">
   <div class="question">2. Я не тревожусь о своем будущем.</div>
   <button class='back-button' onclick='prevQuestion(2)'>Назад</button>
   <div class='option' onclick='selectAnswer(2,0)'>0 - Я не тревожусь о своем будущем.</div>
   <div class='option' onclick='selectAnswer(2,1)'>1 - Я чувствую, что озадачен будущим.</div>
   <div class='option' onclick='selectAnswer(2,2)'>2 - Я чувствую, что меня ничего не ждет в будущем.</div>
   <div class='option' onclick='selectAnswer(2,3)'>3 - Мое будущее безнадежно, и ничто не может измениться к лучшему.</div>   
</div>

<div id="question3" class="question-container">
   <div class="question">3. Я не чувствую себя неудачником.</div>
   <button class='back-button' onclick='prevQuestion(3)'>Назад</button>
   <div class='option' onclick= 'selectAnswer(3,0)'>0 - Я не чувствую себя неудачником.</div>
   <div class='option' onclick= 'selectAnswer(3,1)'>1 - Я чувствую, что терпел больше неудач, чем другие люди</div>
   <div class='option' onclick= 'selectAnswer(3,2)'>2 - Когда я оглядываюсь на свою жизнь, я вижу в ней много неудач</div>
   <div class='option' onclick= 'selectAnswer(3,3)'>3 - Я чувствую, что как личность я — полный неудачник.</div> 
</div>

<!-- Контейнер с результатами -->
<div id='result-container' style='display:none;'>
<h2>Результаты теста</h2>
<div class='result-score'>Ваш результат: <span id='total-score'>0</span> баллов</div>
<div class='diagnosis' id='diagnosis-text'>Результат</div>
<p id='result-description'>Описание результата</p>
<button onclick='restartTest()'>Пройти тест снова</button>
</div>

<script>
// Объект для хранения ответов
const answers = {};
let totalScore = 0;

// Обновление прогресса
function updateProgress(questionNumber) {
 const totalQuestions = document.querySelectorAll('.question-container').length;
 const progressPercent = (questionNumber -1) / totalQuestions *100; 
 document.getElementById('progress').style.width = progressPercent + '%';
}

// Переход к предыдущему вопросу
function prevQuestion(questionNumber) {
 const currentDiv = document.getElementById('question' + questionNumber);
 currentDiv.classList.remove('active');

 const prevQuestionNumber = questionNumber - 1;
 const prevDiv = document.getElementById('question' + prevQuestionNumber);
 if (prevDiv) {
    prevDiv.classList.add('active');
    updateProgress(prevQuestionNumber);
 }
}

// Переход к следующему вопросу
function nextQuestion(currentQuestionNumber) {
 const currentDiv = document.getElementById('question' + currentQuestionNumber);
 currentDiv.classList.remove('active');

 const nextQuestionNumber = currentQuestionNumber +1 ;
 const nextDiv = document.getElementById('question' + nextQuestionNumber);
 if(nextDiv){
     nextDiv.classList.add('active');
     updateProgress(nextQuestionNumber);
 } else{
     showResults();
 }
}

// Обработка выбора ответа
function selectAnswer(questionNumber, answerValue) {
 answers['q'+ questionNumber] = answerValue;

 // подсчет баллов
 totalScore += answerValue;

 // Переход к следующему вопросу
 nextQuestion(questionNumber);
}

// Показываем результаты
function showResults() {
 // скрываем все вопросы
 document.querySelectorAll('.question-container').forEach(div => div.classList.remove('active'));
 // показываем контейнер с результатами
 document.getElementById('result-container').style.display='block';

 // выводим сумму баллов
 document.getElementById('total-score').textContent= totalScore;

 // Можно добавить диагностику по результатам
 let diagnosisText='';
 if(totalScore <=4){
     diagnosisText='Ваш результат показывает низкий уровень.';
 } else if(totalScore <=8){
     diagnosisText='Ваш результат средний.';
 } else{
     diagnosisText='Ваш результат высокий.';
 }
 document.getElementById('diagnosis-text').textContent=diagnosisText;

}

// Перезапуск теста
function restartTest() {
 // сбросить ответы и счетчик
 for(let key in answers){ delete answers[key];}
 totalScore=0;

 // скрыть результаты
 document.getElementById('result-container').style.display='none';

 // показать первый вопрос
 document.querySelector('.question-container.active')?.classList.remove('active');
 document.getElementById('question1').classList.add('active');

 // обновить прогрессбар
 updateProgress(1);
}
 
// Инициализация прогресса при загрузке страницы
updateProgress(1);
</script>

</body>
